syntax = "proto3";

package media;

import "google/protobuf/empty.proto";

service UploadService {
  rpc DeleteFileByUrl(DeleteFileByUrlRequest) returns (google.protobuf.Empty);
  rpc UploadFile(UploadFileRequest) returns (UploadFileResponse);
  rpc UploadGroupChatAvatar(UploadGroupChatAvatarRequest)
      returns (UploadGroupChatAvatarResponse);
  rpc DeleteGroupChatAvatar(DeleteGroupChatAvatarRequest)
      returns (google.protobuf.Empty);
  rpc UploadReportImage(UploadReportImageRequest)
      returns (UploadReportImageResponse);
  rpc UploadReportMessageMedia(UploadReportMessageMediaRequest)
      returns (UploadReportMessageMediaResponse);
}

message DeleteFileByUrlRequest {
  string url = 1;
}

message UploadFileRequest {
  bytes content = 1;
  string filename = 2;
}

message UploadFileResponse {
  string file_info_json = 1;
}

message UploadGroupChatAvatarRequest {
  bytes file = 1;
  string filename = 2;
}

message UploadGroupChatAvatarResponse {
  string url = 1;
}

message DeleteGroupChatAvatarRequest {
  string avatarUrl = 1;
}

message UploadReportImageRequest {
  bytes file = 1;
  string filename = 2;
}

message UploadReportImageResponse {
  string url = 1;
}

message UploadReportMessageMediaRequest {
  string filePath = 1;
  int32 messageId = 2;
  string contentType = 3;
}

message UploadReportMessageMediaResponse {
  string url = 1;
}